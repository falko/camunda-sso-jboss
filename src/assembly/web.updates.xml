<processor>
	<!-- change AuthenticationFilter to novatec filter -->    
    <modify>
    	<name>/jee:web-app/jee:filter/jee:filter-class[text()="org.camunda.bpm.webapp.impl.security.auth.AuthenticationFilter"]</name>
    	<value><![CDATA[<filter-class>de.novatec.bpm.webapp.impl.security.auth.AuthenticationFilter</filter-class>]]></value>
    </modify> 
	
	<!-- add security constraint after updated AuthenticationFilter -->
	<add>
		<after>/jee:web-app/jee:filter[jee:filter-name = "Authentication Filter"]</after>
		<value>
            <![CDATA[
<security-constraint>
	<web-resource-collection>
		<web-resource-name>Restricted</web-resource-name>
		<url-pattern>/*</url-pattern>
	</web-resource-collection>
	<auth-constraint>
            <role-name>CN=TestGroup,CN=Users,DC=novaDomain,DC=local</role-name>
	</auth-constraint>
	<user-data-constraint>
		<transport-guarantee>NONE</transport-guarantee>
	</user-data-constraint>
</security-constraint>
<login-config>
        <auth-method>SPNEGO</auth-method>
        <realm-name>SPNEGO</realm-name>
        <form-login-config>
        </form-login-config>
</login-config>
                ]]>
		</value>
	</add>
    
</processor>